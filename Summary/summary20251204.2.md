# Session Summary - 2025-12-04 Session 2

## Objective
Review ADR 005 (Development Process Graph Learning) in detail and prepare for implementation.

---

## Prior Session Summary (Session 1 Today)

| Session | Focus | Key Outcome |
|---------|-------|-------------|
| 1 | Process Mining ADRs | Created ADR 004 and ADR 005 |

**Key Decisions from Session 1:**
- ADR 004: Process Graph Learning from Program Execution (runtime traces)
- ADR 005: Development Process Graph Learning from Summary+Git
- Unified approach using PM4Py for both runtime and development process mining

---

## Completed Work

### 1. Context Review

Reviewed recent session summaries and ADR 005 to establish context:
- ADR 005 proposes mining development process from existing artifacts
- No new instrumentation needed - parses Summary/*.md and git history
- Same PM4Py techniques as ADR 004 for runtime traces

### 2. ADR 005 Detailed Analysis

(In progress - see discussion below)

---

## ADR 005 Key Points

### Data Sources
1. **Session Summaries** (`Summary/summary*.md`) - ~95 files
2. **Git History** - commits, branches, file changes
3. **GitHub PRs** (optional) - reviews, merges

### Proposed Components
| Component | Purpose | Location |
|-----------|---------|----------|
| `DevelopmentEvent` | Event schema dataclass | `src/asp/telemetry/dev_events.py` |
| `SummaryParser` | Parse markdown to events | `src/asp/telemetry/parsers/summary_parser.py` |
| `GitLogParser` | Parse git log to events | `src/asp/telemetry/parsers/git_parser.py` |
| `EventCorrelator` | Link commits to sessions | `src/asp/telemetry/correlate.py` |
| `dev_process_mining` | PM4Py analysis | `src/asp/telemetry/dev_process_mining.py` |

### Event Types
```
session.start, session.end, objective.set, task.started, task.completed,
file.created, file.modified, file.deleted, commit.created, branch.created,
branch.merged, pr.opened, pr.merged, test.passed, test.failed
```

---

## Discussion Notes

### Decision: Extract to Separate Repository

After reviewing ADR 005, discussed whether the development process mining functionality should be a separate project.

**Key factors favoring separation:**
- User has multiple repos with session summary files (not just this project)
- The core parsing + mining logic is genuinely generic
- Different audience (could be useful for project managers, not just developers)
- No dependency on ASP-specific code

**Decision:** Create a standalone `dev-process-mining` library.

### Proposed Standalone Project Structure

```
dev-process-mining/
├── src/
│   └── devproc/
│       ├── parsers/
│       │   ├── summary_parser.py    # Configurable markdown parser
│       │   ├── git_parser.py        # Generic git history parser
│       │   └── github_parser.py     # Optional PR/issue events
│       ├── events.py                # DevelopmentEvent schema
│       ├── correlate.py             # Event correlation
│       ├── mining.py                # PM4Py analysis
│       └── export.py                # XES, CSV, JSON export
├── tests/
├── pyproject.toml
└── README.md
```

### Design Decisions for Standalone Library

| Decision | Approach |
|----------|----------|
| Summary format | **Configurable patterns** - regex templates per project |
| Output | Standard formats (XES, CSV) for use with any PM tool |
| Dependencies | Minimal: just PM4Py + standard lib |
| CLI | `devproc parse ./Summary --format xes` |
| Python API | `from devproc import parse_project, discover_process` |

### Per-Project Configuration

```yaml
# devproc.yaml - per-project config
summary:
  pattern: "summary*.md"
  header_regex: "# Session Summary - (\\d{4}-\\d{2}-\\d{2}) Session (\\d+)"
  sections:
    objective: "## Objective"
    completed: "## Completed Work"
    files: "## Files Modified"
    commits: "## Commits Made"
```

### What Stays in Process_Software_Agents

- Integration with runtime traces (ADR 004) via `trace_id`
- Web UI pages for visualization
- ASP-specific analysis and dashboards

---

## Files Created/Modified

| File | Change |
|------|--------|
| `Summary/summary20251204.2.md` | Session summary (this file) |
| `design/ADR_005_development_process_graph_learning.md` | Added extraction decision note |

---

## Next Steps

- [ ] User creates new `dev-process-mining` repository
- [ ] Initialize project structure in new repo
- [ ] Port generic components from ADR 005 design
- [ ] Add configurable summary format support
- [ ] Update ADR 005 to reference external library

---

## Status
In Progress - Awaiting new repository creation
