{
  "task_id": "TSP-FIB-001",
  "project_id": "FIBONACCI-001",
  "files": [
    {
      "file_path": "src/fibonacci.py",
      "content": "\"\"\"\nFibonacci Module\n\nThis module provides functionality to calculate Fibonacci numbers using an iterative approach.\nIt includes input validation, calculation logic, and a public API function with comprehensive\ndocumentation and examples.\n\nComponent IDs: FibonacciValidator, FibonacciCalculator, FibonacciFunction\nSemantic Units: SU-001, SU-002, SU-003\nTask ID: TSP-FIB-001\n\nAuthor: ASP Code Agent\n\"\"\"\n\n\nclass FibonacciValidator:\n    \"\"\"\n    Validator for Fibonacci function input parameters.\n\n    This class handles input validation and type checking for the Fibonacci\n    calculation function. It ensures that inputs are valid non-negative integers\n    before any calculation is performed.\n\n    Component ID: FibonacciValidator\n    Semantic Unit ID: SU-001\n    \"\"\"\n\n    @staticmethod\n    def validate_input(n: int) -> bool:\n        \"\"\"\n        Validate that input n is a non-negative integer.\n\n        This method performs type checking and range validation on the input\n        parameter. It raises ValueError if the input is invalid.\n\n        Args:\n            n: The input value to validate. Must be an integer type.\n\n        Returns:\n            bool: True if input is valid (non-negative integer).\n\n        Raises:\n            TypeError: If n is not an integer type (e.g., float, string).\n            ValueError: If n is a negative integer.\n\n        Examples:\n            >>> FibonacciValidator.validate_input(0)\n            True\n            >>> FibonacciValidator.validate_input(5)\n            True\n            >>> FibonacciValidator.validate_input(-1)\n            Traceback (most recent call last):\n                ...\n            ValueError: n must be a non-negative integer\n            >>> FibonacciValidator.validate_input(3.5)\n            Traceback (most recent call last):\n                ...\n            TypeError: n must be an integer, not float\n        \"\"\"\n        if not isinstance(n, int) or isinstance(n, bool):\n            raise TypeError(f\"n must be an integer, not {type(n).__name__}\")\n\n        if n < 0:\n            raise ValueError(\"n must be a non-negative integer\")\n\n        return True\n\n\nclass FibonacciCalculator:\n    \"\"\"\n    Calculator for Fibonacci numbers using iterative approach.\n\n    This class implements the core Fibonacci calculation logic using an iterative\n    algorithm. It provides O(n) time complexity and O(1) space complexity by\n    avoiding recursion and using only two variables to track state.\n\n    Component ID: FibonacciCalculator\n    Semantic Unit ID: SU-002\n    \"\"\"\n\n    @staticmethod\n    def handle_base_cases(n: int) -> int | None:\n        \"\"\"\n        Handle base cases for Fibonacci calculation.\n\n        Returns the Fibonacci value for base cases (n=0 or n=1) without\n        requiring iteration. Returns None for other cases to indicate that\n        the general calculation algorithm should be used.\n\n        Args:\n            n: The input value. Must be a non-negative integer.\n\n        Returns:\n            int | None: The Fibonacci value for base cases (0 or 1),\n                       or None if n requires iterative calculation.\n\n        Examples:\n            >>> FibonacciCalculator.handle_base_cases(0)\n            0\n            >>> FibonacciCalculator.handle_base_cases(1)\n            1\n            >>> FibonacciCalculator.handle_base_cases(2) is None\n            True\n            >>> FibonacciCalculator.handle_base_cases(5) is None\n            True\n        \"\"\"\n        if n == 0:\n            return 0\n        if n == 1:\n            return 1\n        return None\n\n    @staticmethod\n    def calculate(n: int) -> int:\n        \"\"\"\n        Calculate the nth Fibonacci number using iterative approach.\n\n        This method implements the Fibonacci calculation using an iterative\n        algorithm with two variables (prev, curr) to track state. This approach\n        avoids recursion overhead and stack overflow issues for large values of n.\n\n        The algorithm:\n        1. Handle base cases (n=0 returns 0, n=1 returns 1)\n        2. Initialize prev=0, curr=1\n        3. Iterate n-1 times, updating: temp=curr, curr=prev+curr, prev=temp\n        4. Return curr\n\n        Time Complexity: O(n)\n        Space Complexity: O(1)\n\n        Args:\n            n: The position in the Fibonacci sequence. Must be non-negative.\n\n        Returns:\n            int: The nth Fibonacci number.\n\n        Examples:\n            >>> FibonacciCalculator.calculate(0)\n            0\n            >>> FibonacciCalculator.calculate(1)\n            1\n            >>> FibonacciCalculator.calculate(2)\n            1\n            >>> FibonacciCalculator.calculate(5)\n            5\n            >>> FibonacciCalculator.calculate(10)\n            55\n        \"\"\"\n        base_case_result = FibonacciCalculator.handle_base_cases(n)\n        if base_case_result is not None:\n            return base_case_result\n\n        prev: int = 0\n        curr: int = 1\n\n        for _ in range(n - 1):\n            temp: int = curr\n            curr = prev + curr\n            prev = temp\n\n        return curr\n\n\ndef fibonacci(n: int) -> int:\n    \"\"\"\n    Calculate the nth Fibonacci number using an iterative approach.\n\n    The Fibonacci sequence is a series of numbers where each number is the sum\n    of the two preceding ones, typically starting with 0 and 1. This function\n    computes the nth number in this sequence efficiently using an iterative\n    algorithm that avoids recursion overhead.\n\n    The function validates input before calculation, ensuring that n is a\n    non-negative integer. It then uses an iterative approach with O(n) time\n    complexity and O(1) space complexity to compute the result.\n\n    Args:\n        n: The position in the Fibonacci sequence (0-indexed).\n           Must be a non-negative integer.\n           - n=0 returns 0 (first Fibonacci number)\n           - n=1 returns 1 (second Fibonacci number)\n           - n>=2 returns the sum of the two preceding numbers\n\n    Returns:\n        int: The nth Fibonacci number.\n\n    Raises:\n        TypeError: If n is not an integer type (e.g., float, string, bool).\n        ValueError: If n is a negative integer.\n\n    Examples:\n        >>> fibonacci(0)\n        0\n        >>> fibonacci(1)\n        1\n        >>> fibonacci(2)\n        1\n        >>> fibonacci(5)\n        5\n        >>> fibonacci(10)\n        55\n\n    Note:\n        This function uses an iterative approach rather than recursion,\n        making it suitable for large values of n without risk of stack overflow.\n        The Fibonacci sequence grows exponentially, so very large values of n\n        may result in very large integers.\n    \"\"\"\n    FibonacciValidator.validate_input(n)\n    result: int = FibonacciCalculator.calculate(n)\n    return result\n</content>",
      "file_type": "source",
      "semantic_unit_id": "SU-001,SU-002,SU-003",
      "component_id": "FibonacciValidator,FibonacciCalculator,FibonacciFunction",
      "description": "Main Fibonacci module containing FibonacciValidator for input validation, FibonacciCalculator for iterative computation, and the public fibonacci() function that orchestrates validation and calculation with comprehensive docstring and examples."
    },
    {
      "file_path": "tests/test_fibonacci.py",
      "content": "\"\"\"\nComprehensive unit tests for the Fibonacci module.\n\nTests cover input validation, edge cases, correctness of calculations, error handling\nfor negative inputs, and type checking for the Fibonacci function.\n\nComponent IDs: FibonacciValidator, FibonacciCalculator, FibonacciFunction\nSemantic Units: SU-001, SU-002, SU-003\n\nAuthor: ASP Code Agent\n\"\"\"\n\nimport pytest\nfrom src.fibonacci import fibonacci\n\n\nclass TestFibonacciInputValidation:\n    \"\"\"Test suite for input validation (SU-001: FibonacciValidator).\"\"\"\n\n    def test_fibonacci_rejects_negative_integer(self) -> None:\n        \"\"\"Test that fibonacci raises ValueError for negative integer input.\"\"\"\n        with pytest.raises(ValueError, match=\"n must be a non-negative integer\"):\n            fibonacci(-1)\n\n    def test_fibonacci_rejects_large_negative_integer(self) -> None:\n        \"\"\"Test that fibonacci raises ValueError for large negative integer.\"\"\"\n        with pytest.raises(ValueError, match=\"n must be a non-negative integer\"):\n            fibonacci(-1000)\n\n    def test_fibonacci_rejects_float_input(self) -> None:\n        \"\"\"Test that fibonacci raises TypeError for float input.\"\"\"\n        with pytest.raises(TypeError):\n            fibonacci(5.5)  # type: ignore\n\n    def test_fibonacci_rejects_string_input(self) -> None:\n        \"\"\"Test that fibonacci raises TypeError for string input.\"\"\"\n        with pytest.raises(TypeError):\n            fibonacci(\"5\")  # type: ignore\n\n    def test_fibonacci_rejects_none_input(self) -> None:\n        \"\"\"Test that fibonacci raises TypeError for None input.\"\"\"\n        with pytest.raises(TypeError):\n            fibonacci(None)  # type: ignore\n\n    def test_fibonacci_rejects_list_input(self) -> None:\n        \"\"\"Test that fibonacci raises TypeError for list input.\"\"\"\n        with pytest.raises(TypeError):\n            fibonacci([5])  # type: ignore\n\n    def test_fibonacci_rejects_dict_input(self) -> None:\n        \"\"\"Test that fibonacci raises TypeError for dict input.\"\"\"\n        with pytest.raises(TypeError):\n            fibonacci({\"n\": 5})  # type: ignore\n\n    def test_fibonacci_accepts_zero(self) -> None:\n        \"\"\"Test that fibonacci accepts zero as valid input.\"\"\"\n        result = fibonacci(0)\n        assert isinstance(result, int)\n        assert result == 0\n\n    def test_fibonacci_accepts_positive_integer(self) -> None:\n        \"\"\"Test that fibonacci accepts positive integer input.\"\"\"\n        result = fibonacci(5)\n        assert isinstance(result, int)\n        assert result == 5\n\n    def test_fibonacci_accepts_large_positive_integer(self) -> None:\n        \"\"\"Test that fibonacci accepts large positive integer input.\"\"\"\n        result = fibonacci(100)\n        assert isinstance(result, int)\n        assert result > 0\n\n\nclass TestFibonacciEdgeCases:\n    \"\"\"Test suite for edge cases (SU-002: FibonacciCalculator base cases).\"\"\"\n\n    def test_fibonacci_zero_returns_zero(self) -> None:\n        \"\"\"Test that fibonacci(0) returns 0.\"\"\"\n        assert fibonacci(0) == 0\n\n    def test_fibonacci_one_returns_one(self) -> None:\n        \"\"\"Test that fibonacci(1) returns 1.\"\"\"\n        assert fibonacci(1) == 1\n\n    def test_fibonacci_two_returns_one(self) -> None:\n        \"\"\"Test that fibonacci(2) returns 1.\"\"\"\n        assert fibonacci(2) == 1\n\n    def test_fibonacci_three_returns_two(self) -> None:\n        \"\"\"Test that fibonacci(3) returns 2.\"\"\"\n        assert fibonacci(3) == 2\n\n    def test_fibonacci_four_returns_three(self) -> None:\n        \"\"\"Test that fibonacci(4) returns 3.\"\"\"\n        assert fibonacci(4) == 3\n\n    def test_fibonacci_five_returns_five(self) -> None:\n        \"\"\"Test that fibonacci(5) returns 5.\"\"\"\n        assert fibonacci(5) == 5\n\n    def test_fibonacci_six_returns_eight(self) -> None:\n        \"\"\"Test that fibonacci(6) returns 8.\"\"\"\n        assert fibonacci(6) == 8\n\n\nclass TestFibonacciCorrectness:\n    \"\"\"Test suite for correctness of Fibonacci calculations (SU-002: FibonacciCalculator).\"\"\"\n\n    def test_fibonacci_sequence_correctness(self) -> None:\n        \"\"\"Test that fibonacci produces correct sequence values.\"\"\"\n        expected_sequence = [0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144]\n        for n, expected in enumerate(expected_sequence):\n            assert fibonacci(n) == expected, f\"fibonacci({n}) should be {expected}\"\n\n    def test_fibonacci_ten_returns_fifty_five(self) -> None:\n        \"\"\"Test that fibonacci(10) returns 55.\"\"\"\n        assert fibonacci(10) == 55\n\n    def test_fibonacci_fifteen_returns_six_hundred_ten(self) -> None:\n        \"\"\"Test that fibonacci(15) returns 610.\"\"\"\n        assert fibonacci(15) == 610\n\n    def test_fibonacci_twenty_returns_six_thousand_seven_hundred_sixty_five(self) -> None:\n        \"\"\"Test that fibonacci(20) returns 6765.\"\"\"\n        assert fibonacci(20) == 6765\n\n    def test_fibonacci_twenty_five_returns_correct_value(self) -> None:\n        \"\"\"Test that fibonacci(25) returns 75025.\"\"\"\n        assert fibonacci(25) == 75025\n\n    def test_fibonacci_thirty_returns_correct_value(self) -> None:\n        \"\"\"Test that fibonacci(30) returns 832040.\"\"\"\n        assert fibonacci(30) == 832040\n\n    def test_fibonacci_property_sum_of_previous_two(self) -> None:\n        \"\"\"Test that each Fibonacci number is sum of previous two.\"\"\"\n        for n in range(2, 20):\n            assert fibonacci(n) == fibonacci(n - 1) + fibonacci(n - 2)\n\n    def test_fibonacci_monotonically_increasing(self) -> None:\n        \"\"\"Test that Fibonacci sequence is monotonically increasing.\"\"\"\n        previous = fibonacci(0)\n        for n in range(1, 30):\n            current = fibonacci(n)\n            assert current >= previous, f\"fibonacci({n}) should be >= fibonacci({n-1})\"\n            previous = current\n\n    def test_fibonacci_positive_for_positive_input(self) -> None:\n        \"\"\"Test that fibonacci returns positive values for positive inputs.\"\"\"\n        for n in range(1, 20):\n            assert fibonacci(n) > 0, f\"fibonacci({n}) should be positive\"\n\n\nclass TestFibonacciReturnType:\n    \"\"\"Test suite for return type validation.\"\"\"\n\n    def test_fibonacci_returns_integer(self) -> None:\n        \"\"\"Test that fibonacci returns an integer type.\"\"\"\n        result = fibonacci(5)\n        assert isinstance(result, int)\n        assert not isinstance(result, bool)\n\n    def test_fibonacci_returns_integer_for_zero(self) -> None:\n        \"\"\"Test that fibonacci returns integer for input 0.\"\"\"\n        result = fibonacci(0)\n        assert isinstance(result, int)\n\n    def test_fibonacci_returns_integer_for_one(self) -> None:\n        \"\"\"Test that fibonacci returns integer for input 1.\"\"\"\n        result = fibonacci(1)\n        assert isinstance(result, int)\n\n    def test_fibonacci_returns_integer_for_large_input(self) -> None:\n        \"\"\"Test that fibonacci returns integer for large input.\"\"\"\n        result = fibonacci(50)\n        assert isinstance(result, int)\n\n    def test_fibonacci_never_returns_float(self) -> None:\n        \"\"\"Test that fibonacci never returns float type.\"\"\"\n        for n in range(0, 20):\n            result = fibonacci(n)\n            assert not isinstance(result, float)\n\n    def test_fibonacci_never_returns_none(self) -> None:\n        \"\"\"Test that fibonacci never returns None.\"\"\"\n        for n in range(0, 20):\n            result = fibonacci(n)\n            assert result is not None\n\n\nclass TestFibonacciErrorMessages:\n    \"\"\"Test suite for error message quality.\"\"\"\n\n    def test_fibonacci_negative_error_message_clarity(self) -> None:\n        \"\"\"Test that ValueError message",
      "file_type": "test",
      "semantic_unit_id": "SU-001,SU-002,SU-003",
      "component_id": "FibonacciValidator,FibonacciCalculator,FibonacciFunction",
      "description": "Comprehensive unit tests for the Fibonacci module covering input validation, edge cases, correctness of calculations, error handling for negative inputs, and type checking."
    },
    {
      "file_path": "tests/test_fibonacci_validator.py",
      "content": "\"\"\"\nUnit tests for FibonacciValidator component.\n\nTests the FibonacciValidator class to verify input validation logic, type checking,\nand ValueError raising for invalid inputs.\n\nComponent ID: FibonacciValidator\nSemantic Unit: SU-001\n\nAuthor: ASP Code Agent\n\"\"\"\n\nimport pytest\n\nfrom src.fibonacci import FibonacciValidator\n\n\nclass TestFibonacciValidatorValidateInput:\n    \"\"\"Test suite for FibonacciValidator.validate_input method.\"\"\"\n\n    def test_validate_input_accepts_zero(self) -> None:\n        \"\"\"Test that validate_input accepts 0 as valid input.\"\"\"\n        validator = FibonacciValidator()\n        result = validator.validate_input(0)\n        assert result is True\n\n    def test_validate_input_accepts_one(self) -> None:\n        \"\"\"Test that validate_input accepts 1 as valid input.\"\"\"\n        validator = FibonacciValidator()\n        result = validator.validate_input(1)\n        assert result is True\n\n    def test_validate_input_accepts_positive_integer(self) -> None:\n        \"\"\"Test that validate_input accepts positive integers.\"\"\"\n        validator = FibonacciValidator()\n        result = validator.validate_input(5)\n        assert result is True\n\n    def test_validate_input_accepts_large_positive_integer(self) -> None:\n        \"\"\"Test that validate_input accepts large positive integers.\"\"\"\n        validator = FibonacciValidator()\n        result = validator.validate_input(1000)\n        assert result is True\n\n    def test_validate_input_rejects_negative_one(self) -> None:\n        \"\"\"Test that validate_input raises ValueError for -1.\"\"\"\n        validator = FibonacciValidator()\n        with pytest.raises(ValueError) as exc_info:\n            validator.validate_input(-1)\n        assert \"n must be a non-negative integer\" in str(exc_info.value)\n\n    def test_validate_input_rejects_negative_integer(self) -> None:\n        \"\"\"Test that validate_input raises ValueError for negative integers.\"\"\"\n        validator = FibonacciValidator()\n        with pytest.raises(ValueError) as exc_info:\n            validator.validate_input(-5)\n        assert \"n must be a non-negative integer\" in str(exc_info.value)\n\n    def test_validate_input_rejects_large_negative_integer(self) -> None:\n        \"\"\"Test that validate_input raises ValueError for large negative integers.\"\"\"\n        validator = FibonacciValidator()\n        with pytest.raises(ValueError) as exc_info:\n            validator.validate_input(-1000)\n        assert \"n must be a non-negative integer\" in str(exc_info.value)\n\n    def test_validate_input_rejects_float(self) -> None:\n        \"\"\"Test that validate_input rejects float type.\"\"\"\n        validator = FibonacciValidator()\n        with pytest.raises(TypeError):\n            validator.validate_input(5.0)  # type: ignore\n\n    def test_validate_input_rejects_float_zero(self) -> None:\n        \"\"\"Test that validate_input rejects float 0.0.\"\"\"\n        validator = FibonacciValidator()\n        with pytest.raises(TypeError):\n            validator.validate_input(0.0)  # type: ignore\n\n    def test_validate_input_rejects_float_negative(self) -> None:\n        \"\"\"Test that validate_input rejects negative float.\"\"\"\n        validator = FibonacciValidator()\n        with pytest.raises(TypeError):\n            validator.validate_input(-5.5)  # type: ignore\n\n    def test_validate_input_rejects_string(self) -> None:\n        \"\"\"Test that validate_input rejects string type.\"\"\"\n        validator = FibonacciValidator()\n        with pytest.raises(TypeError):\n            validator.validate_input(\"5\")  # type: ignore\n\n    def test_validate_input_rejects_string_number(self) -> None:\n        \"\"\"Test that validate_input rejects string representation of number.\"\"\"\n        validator = FibonacciValidator()\n        with pytest.raises(TypeError):\n            validator.validate_input(\"10\")  # type: ignore\n\n    def test_validate_input_rejects_none(self) -> None:\n        \"\"\"Test that validate_input rejects None.\"\"\"\n        validator = FibonacciValidator()\n        with pytest.raises(TypeError):\n            validator.validate_input(None)  # type: ignore\n\n    def test_validate_input_rejects_list(self) -> None:\n        \"\"\"Test that validate_input rejects list type.\"\"\"\n        validator = FibonacciValidator()\n        with pytest.raises(TypeError):\n            validator.validate_input([5])  # type: ignore\n\n    def test_validate_input_rejects_dict(self) -> None:\n        \"\"\"Test that validate_input rejects dict type.\"\"\"\n        validator = FibonacciValidator()\n        with pytest.raises(TypeError):\n            validator.validate_input({\"n\": 5})  # type: ignore\n\n    def test_validate_input_rejects_boolean_true(self) -> None:\n        \"\"\"Test that validate_input rejects boolean True (even though bool is subclass of int).\"\"\"\n        validator = FibonacciValidator()\n        # Note: In Python, bool is a subclass of int, so True == 1\n        # This test documents the behavior - True may be accepted as 1\n        result = validator.validate_input(True)  # type: ignore\n        # If implementation strictly checks isinstance(n, int) and not isinstance(n, bool)\n        # then this should raise TypeError. Otherwise it accepts True as 1.\n        # We test the actual behavior here.\n        assert isinstance(result, bool)\n\n    def test_validate_input_rejects_boolean_false(self) -> None:\n        \"\"\"Test that validate_input rejects boolean False (even though bool is subclass of int).\"\"\"\n        validator = FibonacciValidator()\n        # Note: In Python, bool is a subclass of int, so False == 0\n        result = validator.validate_input(False)  # type: ignore\n        assert isinstance(result, bool)\n\n    def test_validate_input_error_message_format(self) -> None:\n        \"\"\"Test that ValueError has descriptive error message.\"\"\"\n        validator = FibonacciValidator()\n        with pytest.raises(ValueError) as exc_info:\n            validator.validate_input(-10)\n        error_message = str(exc_info.value)\n        assert \"non-negative\" in error_message.lower()\n        assert \"integer\" in error_message.lower()\n\n    def test_validate_input_returns_true_for_valid_inputs(self) -> None:\n        \"\"\"Test that validate_input returns True for all valid inputs.\"\"\"\n        validator = FibonacciValidator()\n        valid_inputs = [0, 1, 2, 5, 10, 100, 1000]\n        for n in valid_inputs:\n            result = validator.validate_input(n)\n            assert result is True, f\"validate_input({n}) should return True\"\n\n    def test_validate_input_boundary_zero(self) -> None:\n        \"\"\"Test that validate_input accepts 0 as boundary case.\"\"\"\n        validator = FibonacciValidator()\n        result = validator.validate_input(0)\n        assert result is True\n\n    def test_validate_input_boundary_negative_one(self) -> None:\n        \"\"\"Test that validate_input rejects -1 as boundary case.\"\"\"\n        validator = FibonacciValidator()\n        with pytest.raises(ValueError):\n            validator.validate_input(-1)\n\n    def test_validate_input_type_checking_strict(self) -> None:\n        \"\"\"Test that validate_input performs strict type checking.\"\"\"\n        validator = FibonacciValidator()\n        # Valid integer should pass\n        assert validator.validate_input(5) is True\n        # Float should fail even if it represents an integer\n        with pytest.raises(TypeError):\n            validator.validate_input(5.0)  # type: ignore\n\n    def test_validate_input_multiple_calls_independent(self) -> None:\n        \"\"\"Test that multiple validate_input calls are independent.\"\"\"\n        validator = FibonacciValidator()\n        # First call with valid input\n        result1 = validator.validate_input(5)\n        assert result",
      "file_type": "test",
      "semantic_unit_id": "SU-001",
      "component_id": "FibonacciValidator",
      "description": "Unit tests specifically for FibonacciValidator component testing input validation logic, type checking, and ValueError raising for invalid inputs."
    },
    {
      "file_path": "tests/test_fibonacci_calculator.py",
      "content": "\"\"\"\nUnit tests for FibonacciCalculator component\n\nTests the Fibonacci calculation implementation verifying iterative algorithm correctness,\nbase case handling, edge cases, and performance characteristics.\n\nComponent ID: FibonacciCalculator\nSemantic Unit ID: SU-002\n\nAuthor: ASP Code Agent\n\"\"\"\n\nimport pytest\nfrom src.fibonacci import fibonacci\n\n\nclass TestFibonacciBaseCase:\n    \"\"\"Test base case handling for Fibonacci calculation.\"\"\"\n\n    def test_fibonacci_zero_returns_zero(self) -> None:\n        \"\"\"Test that fibonacci(0) returns 0.\"\"\"\n        result = fibonacci(0)\n        assert result == 0\n        assert isinstance(result, int)\n\n    def test_fibonacci_one_returns_one(self) -> None:\n        \"\"\"Test that fibonacci(1) returns 1.\"\"\"\n        result = fibonacci(1)\n        assert result == 1\n        assert isinstance(result, int)\n\n    def test_fibonacci_two_returns_one(self) -> None:\n        \"\"\"Test that fibonacci(2) returns 1.\"\"\"\n        result = fibonacci(2)\n        assert result == 1\n\n    def test_fibonacci_three_returns_two(self) -> None:\n        \"\"\"Test that fibonacci(3) returns 2.\"\"\"\n        result = fibonacci(3)\n        assert result == 2\n\n\nclass TestFibonacciSequence:\n    \"\"\"Test Fibonacci sequence correctness for various inputs.\"\"\"\n\n    def test_fibonacci_five_returns_five(self) -> None:\n        \"\"\"Test that fibonacci(5) returns 5.\"\"\"\n        result = fibonacci(5)\n        assert result == 5\n\n    def test_fibonacci_ten_returns_fifty_five(self) -> None:\n        \"\"\"Test that fibonacci(10) returns 55.\"\"\"\n        result = fibonacci(10)\n        assert result == 55\n\n    def test_fibonacci_sequence_correctness(self) -> None:\n        \"\"\"Test that Fibonacci sequence is correct for multiple values.\"\"\"\n        expected_sequence = [0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144]\n        for n, expected in enumerate(expected_sequence):\n            result = fibonacci(n)\n            assert result == expected, f\"fibonacci({n}) should be {expected}, got {result}\"\n\n    def test_fibonacci_fifteen_returns_six_hundred_ten(self) -> None:\n        \"\"\"Test that fibonacci(15) returns 610.\"\"\"\n        result = fibonacci(15)\n        assert result == 610\n\n    def test_fibonacci_twenty_returns_six_thousand_seven_hundred_six(self) -> None:\n        \"\"\"Test that fibonacci(20) returns 6706.\"\"\"\n        result = fibonacci(20)\n        assert result == 6765\n\n\nclass TestFibonacciInputValidation:\n    \"\"\"Test input validation and error handling.\"\"\"\n\n    def test_fibonacci_negative_one_raises_value_error(self) -> None:\n        \"\"\"Test that fibonacci(-1) raises ValueError.\"\"\"\n        with pytest.raises(ValueError) as exc_info:\n            fibonacci(-1)\n        assert \"non-negative\" in str(exc_info.value).lower()\n\n    def test_fibonacci_negative_ten_raises_value_error(self) -> None:\n        \"\"\"Test that fibonacci(-10) raises ValueError.\"\"\"\n        with pytest.raises(ValueError) as exc_info:\n            fibonacci(-10)\n        assert \"non-negative\" in str(exc_info.value).lower()\n\n    def test_fibonacci_negative_hundred_raises_value_error(self) -> None:\n        \"\"\"Test that fibonacci(-100) raises ValueError.\"\"\"\n        with pytest.raises(ValueError):\n            fibonacci(-100)\n\n    def test_fibonacci_float_raises_type_error_or_value_error(self) -> None:\n        \"\"\"Test that fibonacci(5.5) raises TypeError or ValueError.\"\"\"\n        with pytest.raises((TypeError, ValueError)):\n            fibonacci(5.5)  # type: ignore\n\n    def test_fibonacci_string_raises_type_error_or_value_error(self) -> None:\n        \"\"\"Test that fibonacci('5') raises TypeError or ValueError.\"\"\"\n        with pytest.raises((TypeError, ValueError)):\n            fibonacci('5')  # type: ignore\n\n    def test_fibonacci_none_raises_type_error_or_value_error(self) -> None:\n        \"\"\"Test that fibonacci(None) raises TypeError or ValueError.\"\"\"\n        with pytest.raises((TypeError, ValueError)):\n            fibonacci(None)  # type: ignore\n\n    def test_fibonacci_list_raises_type_error_or_value_error(self) -> None:\n        \"\"\"Test that fibonacci([5]) raises TypeError or ValueError.\"\"\"\n        with pytest.raises((TypeError, ValueError)):\n            fibonacci([5])  # type: ignore\n\n    def test_fibonacci_dict_raises_type_error_or_value_error(self) -> None:\n        \"\"\"Test that fibonacci({'n': 5}) raises TypeError or ValueError.\"\"\"\n        with pytest.raises((TypeError, ValueError)):\n            fibonacci({'n': 5})  # type: ignore\n\n\nclass TestFibonacciReturnType:\n    \"\"\"Test return type correctness.\"\"\"\n\n    def test_fibonacci_returns_integer(self) -> None:\n        \"\"\"Test that fibonacci returns an integer type.\"\"\"\n        result = fibonacci(5)\n        assert isinstance(result, int)\n\n    def test_fibonacci_returns_integer_for_zero(self) -> None:\n        \"\"\"Test that fibonacci(0) returns integer type.\"\"\"\n        result = fibonacci(0)\n        assert isinstance(result, int)\n        assert not isinstance(result, bool)\n\n    def test_fibonacci_returns_integer_for_large_n(self) -> None:\n        \"\"\"Test that fibonacci returns integer for large n.\"\"\"\n        result = fibonacci(50)\n        assert isinstance(result, int)\n\n    def test_fibonacci_returns_positive_integer(self) -> None:\n        \"\"\"Test that fibonacci returns non-negative integer.\"\"\"\n        for n in range(20):\n            result = fibonacci(n)\n            assert result >= 0\n\n\nclass TestFibonacciEdgeCases:\n    \"\"\"Test edge cases and boundary conditions.\"\"\"\n\n    def test_fibonacci_zero_is_non_negative(self) -> None:\n        \"\"\"Test that fibonacci(0) returns non-negative value.\"\"\"\n        result = fibonacci(0)\n        assert result >= 0\n\n    def test_fibonacci_consecutive_values_increase(self) -> None:\n        \"\"\"Test that Fibonacci sequence is monotonically increasing.\"\"\"\n        prev = fibonacci(0)\n        for n in range(1, 15):\n            curr = fibonacci(n)\n            assert curr >= prev, f\"fibonacci({n}) should be >= fibonacci({n-1})\"\n            prev = curr\n\n    def test_fibonacci_large_n_performance(self) -> None:\n        \"\"\"Test that fibonacci handles moderately large n efficiently.\"\"\"\n        # Should complete quickly with iterative approach\n        result = fibonacci(100)\n        assert isinstance(result, int)\n        assert result > 0\n\n    def test_fibonacci_very_large_n(self) -> None:\n        \"\"\"Test that fibonacci handles very large n.\"\"\"\n        result = fibonacci(1000)\n        assert isinstance(result, int)\n        assert result > 0\n\n    def test_fibonacci_idempotent(self) -> None:\n        \"\"\"Test that calling fibonacci multiple times with same input returns same result.\"\"\"\n        n = 10\n        result1 = fibonacci(n)\n        result2 = fibonacci(n)\n        result3 = fibonacci(n)\n        assert result1 == result2 == result3\n\n\nclass TestFibonacciMathematicalProperties:\n    \"\"\"Test mathematical properties of Fibonacci sequence.\"\"\"\n\n    def test_fibonacci_sum_property(self) -> None:\n        \"\"\"Test that sum of first n Fibonacci numbers equals fibonacci(n+2) - 1.\"\"\"\n        n = 10\n        fib_sum = sum(fibonacci(i) for i in range(n))\n        expected = fibonacci(n + 2) - 1\n        assert fib_sum == expected\n\n    def test_fibonacci_golden_ratio_approximation(self) -> None:\n        \"\"\"Test that ratio of consecutive Fibonacci numbers approaches golden ratio.\"\"\"\n        # For large n, fibonacci(n+1) / fibonacci(n) approaches golden ratio (~1.618)\n        golden_ratio = (1 + 5 ** 0.5) / 2\n        n = 30\n        ratio = fibonacci(n + 1) / fibonacci(n)\n        # Should be within",
      "file_type": "test",
      "semantic_unit_id": "SU-002",
      "component_id": "FibonacciCalculator",
      "description": "Unit tests for FibonacciCalculator component verifying iterative algorithm correctness, base case handling, and performance characteristics."
    },
    {
      "file_path": "requirements.txt",
      "content": "# Testing framework\npytest==7.4.3\n\n# Code quality and linting\npylint==3.0.3\nblack==23.12.0\nflake8==6.1.0\n\n# Type checking\nmypy==1.7.1\n\n# Development utilities\npytest-cov==4.1.0",
      "file_type": "requirements",
      "semantic_unit_id": null,
      "component_id": null,
      "description": "Python dependencies file specifying pytest for testing and any development tools needed for the project."
    },
    {
      "file_path": ".env.example",
      "content": "# Environment Variables Template\n# Copy this file to .env and fill in the actual values for your environment\n# This file is used for local development and testing configuration\n\n# Placeholder for future extensibility\n# Add environment variables here as the project grows\nPLACEHOLDER=true",
      "file_type": "config",
      "semantic_unit_id": null,
      "component_id": null,
      "description": "Environment variables template file for project configuration (placeholder for future extensibility)."
    },
    {
      "file_path": "README.md",
      "content": "# Fibonacci Function Project\n\nA simple, efficient Python implementation of the Fibonacci sequence calculator with comprehensive documentation and test coverage.\n\n## Overview\n\nThis project provides a production-ready implementation of the Fibonacci function that calculates the nth number in the Fibonacci sequence using an iterative approach. The implementation emphasizes correctness, performance, and maintainability through proper input validation, comprehensive documentation, and thorough test coverage.\n\n### Features\n\n- **Efficient Iterative Algorithm**: O(n) time complexity with O(1) space complexity\n- **Robust Input Validation**: Type checking and range validation with descriptive error messages\n- **Comprehensive Documentation**: Detailed docstrings with multiple usage examples\n- **Full Test Coverage**: Unit tests covering happy paths, edge cases, and error conditions\n- **Type Hints**: Complete type annotations for better code clarity and IDE support\n- **PEP 8 Compliant**: Follows Python style guidelines throughout\n\n## Prerequisites\n\n- Python 3.12 or higher\n- pip package manager\n- pytest (for running tests)\n\n## Installation\n\n### 1. Clone or Download the Project\n\n```bash\ngit clone <repository-url>\ncd fibonacci-project\n```\n\n### 2. Create a Virtual Environment (Recommended)\n\n```bash\npython3 -m venv venv\nsource venv/bin/activate  # On Windows: venv\\Scripts\\activate\n```\n\n### 3. Install Dependencies\n\n```bash\npip install -r requirements.txt\n```\n\n## Usage\n\n### Basic Usage\n\n```python\nfrom fibonacci import fibonacci\n\n# Calculate the 10th Fibonacci number\nresult = fibonacci(10)\nprint(result)  # Output: 55\n\n# Calculate the 0th Fibonacci number\nresult = fibonacci(0)\nprint(result)  # Output: 0\n\n# Calculate the 1st Fibonacci number\nresult = fibonacci(1)\nprint(result)  # Output: 1\n```\n\n### Common Examples\n\n```python\nfrom fibonacci import fibonacci\n\n# Fibonacci sequence: 0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, ...\n\nfibonacci(0)   # Returns: 0\nfibonacci(1)   # Returns: 1\nfibonacci(2)   # Returns: 1\nfibonacci(3)   # Returns: 2\nfibonacci(5)   # Returns: 5\nfibonacci(10)  # Returns: 55\nfibonacci(15)  # Returns: 610\nfibonacci(20)  # Returns: 6765\n```\n\n### Error Handling\n\n```python\nfrom fibonacci import fibonacci\n\n# Attempting to calculate Fibonacci for a negative number raises ValueError\ntry:\n    result = fibonacci(-5)\nexcept ValueError as e:\n    print(f\"Error: {e}\")  # Output: Error: n must be a non-negative integer\n\n# Attempting to use a non-integer type raises ValueError\ntry:\n    result = fibonacci(5.5)\nexcept ValueError as e:\n    print(f\"Error: {e}\")  # Output: Error: n must be a non-negative integer\n\n# Attempting to use a string raises ValueError\ntry:\n    result = fibonacci(\"10\")\nexcept ValueError as e:\n    print(f\"Error: {e}\")  # Output: Error: n must be a non-negative integer\n```\n\n## Project Structure\n\n```\nfibonacci-project/\n├── fibonacci.py          # Main implementation with fibonacci() function\n├── tests/\n│   └── test_fibonacci.py # Comprehensive unit tests\n├── requirements.txt      # Python dependencies\n├── README.md            # This file\n└── .gitignore           # Git ignore rules\n```\n\n## Running Tests\n\n### Run All Tests\n\n```bash\npytest tests/ -v\n```\n\n### Run Tests with Coverage Report\n\n```bash\npytest tests/ --cov=. --cov-report=html\n```\n\nThis generates an HTML coverage report in the `htmlcov/` directory.\n\n### Run Specific Test\n\n```bash\npytest tests/test_fibonacci.py::test_fibonacci_returns_zero_for_zero -v\n```\n\n### Run Tests with Detailed Output\n\n```bash\npytest tests/ -vv --tb=short\n```\n\n## API Documentation\n\n### fibonacci(n: int) -> int\n\nCalculate the nth Fibonacci number using an iterative approach.\n\n#### Parameters\n\n- **n** (int): The position in the Fibonacci sequence (0-indexed). Must be a non-negative integer.\n\n#### Returns\n\n- (int): The nth Fibonacci number\n\n#### Raises\n\n- **ValueError**: If n is negative or not an integer type\n\n#### Examples\n\n```python\n>>> fibonacci(0)\n0\n\n>>> fibonacci(1)\n1\n\n>>> fibonacci(5)\n5\n\n>>> fibonacci(10)\n55\n\n>>> fibonacci(15)\n610\n```\n\n#### Algorithm Details\n\nThe function uses an iterative approach with two variables to track the previous and current Fibonacci numbers:\n\n1. **Base Cases**: For n=0, return 0; for n=1, return 1\n2. **Iteration**: For n≥2, iterate n-1 times, updating the two variables\n3. **Return**: Return the final current value\n\n**Time Complexity**: O(n) - single pass through n iterations\n**Space Complexity**: O(1) - only two variables used regardless of input size\n\n#### Why Iterative Over Recursive?\n\nThe iterative approach is preferred because:\n- Avoids stack overflow for large values of n\n- More efficient with no function call overhead\n- Constant space usage instead of O(n) recursion stack\n- Faster execution for practical use cases\n\n## Implementation Details\n\n### Component Architecture\n\nThe implementation is organized into three logical components:\n\n#### 1. FibonacciValidator (SU-001)\n\nValidates input parameters and enforces type constraints:\n- Checks that input is an integer type (not float, string, etc.)\n- Verifies that n is non-negative\n- Raises ValueError with descriptive message for invalid inputs\n\n#### 2. FibonacciCalculator (SU-002)\n\nImplements the core iterative Fibonacci algorithm:\n- Handles base cases (n=0 returns 0, n=1 returns 1)\n- Uses two-variable state tracking for iteration\n- Achieves O(n) time complexity and O(1) space complexity\n\n#### 3. FibonacciFunction (SU-003)\n\nPublic API that orchestrates validation and calculation:\n- Validates input using FibonacciValidator\n- Calculates result using FibonacciCalculator\n- Provides comprehensive documentation with examples\n\n## Testing Strategy\n\nThe test suite provides comprehensive coverage including:\n\n### Happy Path Tests\n- Correct results for base cases (0, 1)\n- Correct results for small values (2-10)\n- Correct results for larger values (15, 20)\n\n### Edge Case Tests\n- Boundary values (0, 1)\n- Consecutive Fibonacci numbers\n- Sequence correctness verification\n\n### Error Case Tests\n- Negative integer inputs\n- Float inputs\n- String inputs\n- None inputs\n- Other invalid types\n\n### Test Coverage\n\nTarget: 80%+ code coverage of the fibonacci module\n\nRun coverage analysis:\n```bash\npytest tests/ --cov=fibonacci --cov-report=term-missing\n```\n\n## Troubleshooting\n\n### ImportError: No module named 'fibonacci'\n\n**Solution**: Ensure you're running Python from the project root directory and the fibonacci.py file is in the same directory or in the Python path.\n\n```bash\n# From project root\npython3 -c \"from fibonacci import fibonacci; print(fibonacci(10))\"\n```\n\n### ValueError: n must be a non-negative integer\n\n**Cause**: You passed a negative number, float, string, or other invalid type to the fibonacci function.\n\n**Solution**: Ensure you pass a non-negative integer:\n\n```python\n# Correct\nfibonacci(10)      # ✓ Integer\nfibonacci(0)       # ✓ Zero is valid\n\n# Incorrect\nfibonacci(-5)      # ✗ Negative\nfibonacci(5.5)     # ✗ Float\nfibonacci(\"10\")    # ✗ String\n```\n\n### Tests Fail with ModuleNotFoundError\n\n**Solution**: Install dependencies and ensure pytest is available:\n\n```bash\npip install -r requirements.txt\npytest tests/ -v\n```\n\n### Virtual Environment Not Activating\n\n**Solution**: Use the correct activation command for your OS:\n\n```bash\n# Linux/macOS\nsource venv/bin/activate\n\n# Windows\nvenv\\Scripts\\activate\n\n# Verify activation (prompt should show (venv))\nwhich python  # Should show path inside venv directory\n```\n\n## Performance Characteristics\n\n### Time Complexity: O(",
      "file_type": "documentation",
      "semantic_unit_id": null,
      "component_id": null,
      "description": "Project documentation including overview, setup instructions, usage examples, running tests, and API documentation for the Fibonacci function."
    },
    {
      "file_path": "pytest.ini",
      "content": "[pytest]\n# Test discovery patterns\npython_files = test_*.py *_test.py\npython_classes = Test*\npython_functions = test_*\n\n# Minimum Python version\nminversion = 7.0\n\n# Test paths\ntestpaths = tests\n\n# Output options\naddopts = \n    -v\n    --strict-markers\n    --tb=short\n    --disable-warnings\n    -ra\n\n# Markers for test categorization\nmarkers =\n    unit: Unit tests for individual components\n    integration: Integration tests for multiple components\n    edge_case: Tests for edge cases and boundary conditions\n    error_case: Tests for error handling and exceptions\n    performance: Performance and optimization tests\n\n# Coverage options\n[coverage:run]\nsource = .\nomit = \n    */tests/*\n    */test_*.py\n    */__pycache__/*\n    */venv/*\n    */env/*\n\n[coverage:report]\nexclude_lines =\n    pragma: no cover\n    def __repr__\n    raise AssertionError\n    raise NotImplementedError\n    if __name__ == .__main__.:\n    if TYPE_CHECKING:\n    @abstractmethod\n    @abc.abstractmethod\n\nprecision = 2\nskip_covered = False",
      "file_type": "config",
      "semantic_unit_id": null,
      "component_id": null,
      "description": "Pytest configuration file specifying test discovery patterns, output options, and test execution settings."
    },
    {
      "file_path": ".pylintrc",
      "content": "[MASTER]\ndisable=\n    missing-module-docstring,\n    too-few-public-methods,\n    too-many-arguments,\n    too-many-locals,\n    too-many-branches,\n    too-many-statements,\n    duplicate-code,\n    line-too-long,\n\n[MESSAGES CONTROL]\nenable=\n    all\n\n[REPORTS]\noutput-format=colorized\nreports=no\nscore=yes\n\n[REFACTORING]\nmax-nested-blocks=5\nmax-locals=15\nmax-branches=12\nmax-statements=50\n\n[BASIC]\ngood-names=i,j,k,ex,Run,_,n,x,y,z,f,df\nbad-names=foo,bar,baz,toto,tutu,tata\ninclude-naming-hint=yes\nfunction-rgx=[a-z_][a-z0-9_]*$\nfunction-name-hint=[a-z_][a-z0-9_]*$\nvariable-rgx=[a-z_][a-z0-9_]*$\nvariable-name-hint=[a-z_][a-z0-9_]*$\nconst-rgx=(([A-Z_][A-Z0-9_]*)|([a-z_][a-z0-9_]*)|(__.*__))$\nconst-name-hint=(([A-Z_][A-Z0-9_]*)|([a-z_][a-z0-9_]*)|(__.*__))$\nattr-rgx=[a-z_][a-z0-9_]*$\nattr-name-hint=[a-z_][a-z0-9_]*$\nargument-rgx=[a-z_][a-z0-9_]*$\nargument-name-hint=[a-z_][a-z0-9_]*$\nclass-rgx=[A-Z_][a-zA-Z0-9]*$\nclass-name-hint=[A-Z_][a-zA-Z0-9]*$\nmodule-rgx=(([a-z_][a-z0-9_]*)|([A-Z][a-zA-Z0-9]+))$\nmodule-name-hint=(([a-z_][a-z0-9_]*)|([A-Z][a-zA-Z0-9]+))$\nno-docstring-rgx=^_\ndocstring-min-length=10\n\n[FORMAT]\nmax-line-length=100\nindent-string='    '\nindent-after-paren=4\nexpected-line-ending-format=LF\n\n[LOGGING]\nlogging-format-style=new\nlogging-modules=logging\n\n[VARIABLES]\ninit-import=no\ndummy-variables-rgx=_+$|(_[a-zA-Z0-9_]*[a-zA-Z0-9]+?$)|^ignored_|^unused_\nadditional-builtins=\n\n[TYPECHECK]\ncontextmanager-decorators=contextlib.contextmanager\nignore-mixin-members=yes\nignore-none=yes\nignore-on-opaque-types=yes\nmixin-class-rgx=.*[Mm]ixin\nsignature-mutators=\n\n[SIMILARITIES]\nmin-similarity-lines=4\nignore-comments=yes\nignore-docstrings=yes\nignore-imports=yes\nignore-signatures=yes\n\n[SPELLING]\nspelling-dict=en_US\nspelling-ignore-words=\nspelling-private-word-hint=no\nspelling-store-unknown-words=no\n\n[DESIGN]\nmax-args=5\nmax-attributes=7\nmax-bool-expr=5\nmax-parents=7\nmin-public-methods=2\nmax-public-methods=20\n\n[CLASSES]\ndefining-attr-methods=__init__,__new__,setUp,__post_init__\nvalid-classmethod-first-arg=cls\nvalid-metaclass-classmethod-first-arg=cls\nexclude-protected=_asdict,_fields,_make,_replace,_source,_get_counter\n\n[IMPORTS]\nallow-wildcard-with-all=no\nallow-reexport-from-package=no\ndeprecated-modules=optparse,tkinter.tix\n\n[EXCEPTIONS]\novergeneral-exceptions=Exception",
      "file_type": "config",
      "semantic_unit_id": null,
      "component_id": null,
      "description": "Pylint configuration file enforcing PEP 8 compliance and code quality standards for the project."
    },
    {
      "file_path": "DESIGN.md",
      "content": "# Fibonacci Implementation - Design Documentation\n\n## Overview\n\nThis document provides comprehensive design documentation for the Fibonacci implementation, detailing the architecture, component responsibilities, algorithm explanation, and design decisions.\n\n**Task ID:** TSP-FIB-001  \n**Semantic Units:** SU-001, SU-002, SU-003  \n**Components:** FibonacciValidator, FibonacciCalculator, FibonacciFunction  \n**Language:** Python 3.12  \n**Last Updated:** 2025-11-22\n\n---\n\n## Architecture Overview\n\nThe Fibonacci implementation follows a simple, modular architecture with three logical components working in concert:\n\n1. **FibonacciValidator (SU-001):** Handles input validation and type checking, ensuring only valid non-negative integers are processed\n2. **FibonacciCalculator (SU-002):** Implements the core iterative Fibonacci algorithm with optimal time and space complexity\n3. **FibonacciFunction (SU-003):** Serves as the public API that orchestrates validation and calculation with comprehensive documentation\n\nThis design ensures:\n- **Separation of Concerns:** Each component has a single, well-defined responsibility\n- **Testability:** Components can be tested independently\n- **Maintainability:** Clear boundaries between validation, calculation, and orchestration\n- **Reusability:** Components can be used independently if needed\n- **No External Dependencies:** Pure Python standard library implementation\n\n---\n\n## Component Specifications\n\n### Component 1: FibonacciValidator (SU-001)\n\n**Responsibility:** Validates input parameters and enforces type hints for the Fibonacci function\n\n**Complexity:** O(1) - Constant time validation\n\n#### Interface\n\n```python\ndef validate_input(n: int) -> bool\n```\n\n**Parameters:**\n- `n` (int): The input value to validate\n\n**Returns:**\n- `bool`: True if input is valid\n\n**Raises:**\n- `ValueError`: If n is negative or not an integer type\n\n**Description:**\nValidates that input n is a non-negative integer. Raises ValueError if the input fails validation.\n\n#### Implementation Notes\n\n- Check if `n < 0` and raise `ValueError` with message: `\"n must be a non-negative integer\"`\n- Use `isinstance(n, int)` to verify type (rejects float, string, and other numeric types)\n- Do not accept float or other numeric types, even if they represent whole numbers\n- This validation occurs before any calculation to fail fast\n- Return `True` only if validation passes\n\n#### Validation Logic\n\n```\n1. Check isinstance(n, int) → if False, raise ValueError\n2. Check n >= 0 → if False, raise ValueError\n3. Return True\n```\n\n---\n\n### Component 2: FibonacciCalculator (SU-002)\n\n**Responsibility:** Implements iterative Fibonacci calculation with proper edge case handling\n\n**Complexity:** O(n) time, O(1) space\n\n#### Interfaces\n\n**Interface 1: calculate**\n```python\ndef calculate(n: int) -> int\n```\n\n**Parameters:**\n- `n` (int): The position in the Fibonacci sequence (assumed valid)\n\n**Returns:**\n- `int`: The nth Fibonacci number\n\n**Description:**\nCalculate the nth Fibonacci number using an iterative approach. Assumes input has been validated.\n\n**Interface 2: handle_base_cases**\n```python\ndef handle_base_cases(n: int) -> int | None\n```\n\n**Parameters:**\n- `n` (int): The position in the Fibonacci sequence\n\n**Returns:**\n- `int`: Fibonacci value for base cases (0 or 1)\n- `None`: For non-base cases\n\n**Description:**\nReturn Fibonacci value for base cases (n=0 or n=1), return None for other cases.\n\n#### Implementation Notes\n\n**Iterative Algorithm:**\n1. For n=0, return 0 immediately (base case)\n2. For n=1, return 1 immediately (base case)\n3. For n≥2:\n   - Initialize two variables: `prev = 0`, `curr = 1`\n   - Loop from 2 to n (inclusive), n-1 iterations total\n   - In each iteration:\n     - `temp = curr`\n     - `curr = prev + curr`\n     - `prev = temp`\n   - Return `curr` after loop completes\n\n**Why Iterative Over Recursive:**\n- Avoids recursion overhead and function call stack\n- Prevents stack overflow for large n values\n- O(1) space complexity vs O(n) for recursive approach\n- Significantly faster execution for large n\n\n**Example Trace for n=5:**\n```\nInitial: prev=0, curr=1\nIteration 1: temp=1, curr=0+1=1, prev=1\nIteration 2: temp=1, curr=1+1=2, prev=1\nIteration 3: temp=2, curr=1+2=3, prev=2\nIteration 4: temp=3, curr=2+3=5, prev=3\nReturn: 5\n```\n\n---\n\n### Component 3: FibonacciFunction (SU-003)\n\n**Responsibility:** Public API function that orchestrates validation, calculation, and documentation\n\n**Complexity:** O(n) - Dominated by calculation component\n\n**Dependencies:**\n- FibonacciValidator\n- FibonacciCalculator\n\n#### Interface\n\n```python\ndef fibonacci(n: int) -> int\n```\n\n**Parameters:**\n- `n` (int): The position in the Fibonacci sequence (0-indexed)\n  - Must be a non-negative integer\n  - Negative values raise ValueError\n\n**Returns:**\n- `int`: The nth Fibonacci number\n\n**Raises:**\n- `ValueError`: If n is negative or not an integer type\n\n#### Implementation Flow\n\n```\n1. Call FibonacciValidator.validate_input(n)\n   ↓ (raises ValueError if invalid)\n2. Call FibonacciCalculator.calculate(n)\n   ↓\n3. Return result\n```\n\n#### Docstring Specification\n\nThe function must include a comprehensive docstring with the following sections:\n\n**1. One-line Summary:**\n\"Calculate the nth Fibonacci number using an iterative approach.\"\n\n**2. Extended Description:**\nExplain the Fibonacci sequence definition, its mathematical properties, and why the iterative approach is used.\n\n**3. Args Section:**\nDocument the `n` parameter with:\n- Type: int\n- Constraints: Must be non-negative (n ≥ 0)\n- Description: Position in the Fibonacci sequence\n\n**4. Returns Section:**\nDocument the return value:\n- Type: int\n- Description: The nth Fibonacci number\n\n**5. Raises Section:**\nDocument exceptions:\n- ValueError: When n is negative or not an integer type\n\n**6. Examples Section:**\nInclude at least 5 usage examples:\n- `fibonacci(0)` → 0\n- `fibonacci(1)` → 1\n- `fibonacci(2)` → 1\n- `fibonacci(5)` → 5\n- `fibonacci(10)` → 55\n\n**Docstring Style:**\n- Use triple-quoted strings (\"\"\")\n- Follow Google or NumPy style conventions\n- Include clear formatting with proper indentation\n- Make examples executable and accurate\n\n---\n\n## Algorithm Explanation\n\n### Fibonacci Sequence Definition\n\nThe Fibonacci sequence is defined as:\n- F(0) = 0\n- F(1) = 1\n- F(n) = F(n-1) + F(n-2) for n ≥ 2\n\nThis produces the sequence: 0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, ...\n\n### Iterative Approach\n\nThe iterative approach maintains two variables representing consecutive Fibonacci numbers and updates them in each iteration:\n\n```\nAlgorithm: Iterative Fibonacci\nInput: n (non-negative integer)\nOutput: F(n)\n\nif n == 0:\n    return 0\nif n == 1:\n    return 1\n\nprev = 0\ncurr = 1\nfor i from 2 to n:\n    next = prev + curr\n    prev = curr\n    curr = next\n\nreturn curr\n```\n\n### Complexity Analysis\n\n**Time Complexity:** O(n)\n- Single loop from 2 to n\n- Each iteration performs constant-time operations\n- Total iterations: n-1\n\n**Space Complexity:** O(1)\n- Only two variables (prev, curr) used\n- No additional data structures",
      "file_type": "documentation",
      "semantic_unit_id": "SU-001,SU-002,SU-003",
      "component_id": "FibonacciValidator,FibonacciCalculator,FibonacciFunction",
      "description": "Design documentation detailing the architecture, component responsibilities, algorithm explanation, and design decisions for the Fibonacci implementation."
    },
    {
      "file_path": "src/__init__.py",
      "content": "\"\"\"\nPackage initialization file for the src module.\n\nThis file makes the src directory a proper Python package and exports\nthe public API of the Fibonacci module.\n\nAuthor: ASP Code Agent\n\"\"\"\n\nfrom src.fibonacci import fibonacci\n\n__all__ = [\"fibonacci\"]\n__version__ = \"1.0.0\"",
      "file_type": "source",
      "semantic_unit_id": null,
      "component_id": null,
      "description": "Python package initialization file for the src module making it a proper Python package."
    },
    {
      "file_path": "tests/__init__.py",
      "content": "\"\"\"\nTest package initialization file.\n\nThis module makes the tests directory a proper Python package,\nallowing test modules to be imported and discovered by pytest.\n\nAuthor: ASP Code Agent\n\"\"\"\n</code>",
      "file_type": "source",
      "semantic_unit_id": null,
      "component_id": null,
      "description": "Python package initialization file for the tests module making it a proper Python package."
    }
  ],
  "file_structure": {
    "src": [
      "fibonacci.py",
      "__init__.py"
    ],
    "tests": [
      "test_fibonacci.py",
      "test_fibonacci_validator.py",
      "test_fibonacci_calculator.py",
      "__init__.py"
    ],
    ".": [
      "requirements.txt",
      ".env.example",
      "README.md",
      "pytest.ini",
      ".pylintrc",
      "DESIGN.md"
    ]
  },
  "implementation_notes": "Generated using multi-stage approach with 12 files. Manifest estimated 948 LOC, actual 1192 LOC. Uses 2 external dependencies.",
  "dependencies": [
    "pytest==7.4.3",
    "pylint==3.0.3"
  ],
  "setup_instructions": "1. Install Python 3.12 or higher\\n2. pip install -r requirements.txt\\n3. Run tests: pytest tests/ -v\\n4. Run linting: pylint src/\\n5. Import and use: from src.fibonacci import fibonacci; result = fibonacci(10)",
  "total_lines_of_code": 1192,
  "total_files": 12,
  "test_coverage_target": 80.0,
  "semantic_units_implemented": [
    "SU-002",
    "SU-001",
    "SU-001,SU-002,SU-003"
  ],
  "components_implemented": [
    "FibonacciValidator,FibonacciCalculator,FibonacciFunction",
    "FibonacciCalculator",
    "FibonacciValidator"
  ],
  "agent_version": "1.0.0",
  "generation_timestamp": "2025-11-22T03:19:21.695714"
}